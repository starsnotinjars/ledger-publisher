const searchEngines = [
  'baidu',
  'bing',
  'dogpile',
  'google',
  'ixquick',
  'kvasir',
  'searx',
  'sogou',
  'yahoo',
  'yandex',
  'youdao'
]

const searchEnginesSLD = [
  '118712.fr',
  '123rf.com',
  '1337x.pl',
  '1337x.to',
  '17xie.com',
  '1mobile.com',
  '2gis.kz',
  '2gis.ru',
  '6-ar.com',
  '67.com',
  '911tabs.com',
  '99acres.com',
  'aazea.com',
  'abidjan.net',
  'ablazeerp.com',
  'activelearnprimary.co.uk',
  'adoptapet.com',
  'advego.ru',
  'airsextube.com',
  'algolia.com',
  'alib.ru',
  'alldatasheet.com',
  'allrefs.net',
  'alluc.ee',
  'amorenlinea.com',
  'animelyrics.com',
  'anobii.com',
  'answers.squarespace.com',
  'aol.fr',
  'applyweb.com',
  'archiproducts.com',
  'asianporndot.com',
  'ask.com',
  'askiven.com',
  'ati.su',
  'audionetwork.com',
  'audiusa.com',
  'austlii.edu.au',
  'aviasales.ru',
  'azadiradio.com',
  'bab.la',
  'babajob.com',
  'barchart.com',
  'bdjobs.com',
  'beboo.ru',
  'bedetheque.com',
  'beenverified.com',
  'belmeta.com',
  'bingj.com',
  'binsearch.info',
  'bitsnoop.com',
  'blablacar.ru',
  'blowxxxtube.com',
  'bluemountain.com',
  'bogglesworldesl.com',
  'boxrec.com',
  'brasilescola.uol.com.br',
  'bringmesports.com',
  'btcache.me',
  'btso.pw',
  'buzzsumo.com',
  'campbells.com',
  'canada411.ca',
  'careesma.in',
  'carparts.com',
  'carsensor.net',
  'cengagebrain.com',
  'cgtrader.com',
  'cheapflights.co.uk',
  'cilibaba.org',
  'cineplex.com',
  'clip.dj',
  'cnam.fr',
  'cnrs.fr',
  'collegedunia.com',
  'consultant.ru',
  'coolpc.com.tw',
  'couch-tuner.city',
  'cpasbien-torrents.net',
  'crazydomains.com.au',
  'csgnetwork.com',
  'csuchico.edu',
  'ctan.org',
  'cv-library.co.uk',
  'dasoertliche.de',
  'datasheetcatalog.com',
  'dice.com',
  'diggbt.pw',
  'discretesearch.com',
  'diyphotography.net',
  'doklad.ru',
  'downspeedtest.com',
  'duckduckgo.com',
  'eapteka.ru',
  'earthcam.com',
  'ecosia.org',
  'edgesuite.net',
  'edinaschools.org',
  'edreams.com',
  'educacao.uol.com.br',
  'elastic.co',
  'electoralsearch.in',
  'embrapa.br',
  'emisaccess.co.uk',
  'emojikeyboard.org',
  'emojipedia.org',
  'encyclopediadramatica.se',
  'engineersgarage.com',
  'epo.org',
  'espacenet.com',
  'esurf.biz',
  'esvbible.org',
  'experts-exchange.com',
  'ezanga.com',
  'ezilon.com',
  'fairfaxcounty.gov',
  'faktor.hu',
  'favicon-generator.org',
  'fbs.com',
  'feebee.com.tw',
  'fender.com',
  'fifaaddict.com',
  'findanime.ru',
  'findchips.com',
  'findicons.com',
  'findpatent.ru',
  'findwide.com',
  'fishki.pl',
  'fl.ru',
  'flexmls.com',
  'flickrhivemind.net',
  'folkd.com',
  'francais-gratuit.fr',
  'freefind.com',
  'frtyd.com',
  'futhead.com',
  'gaijinpot.com',
  'gate2home.com',
  'getpincode.info',
  'gettyimages.com',
  'gnavi.co.jp',
  'goglogo.com',
  'goha.ru',
  'governmentjobs.com',
  'grotal.com',
  'gtp-tabs.ru',
  'guitaretab.com',
  'gulftalent.com',
  'haosou.com',
  'har.com',
  'hardforum.com',
  'hibid.com',
  'hinkhoj.com',
  'hipmunk.com',
  'hired.com',
  'homegate.ch',
  'hostloc.com',
  'hotellook.com',
  'hotelscombined.com',
  'hotelscombined.com.au',
  'howtosimplified.com',
  'hqsluts.com',
  'hqxxxmovies.com',
  'hyperdia.com',
  'ifreefuck.com',
  'ikman.lk',
  'imgfarm.com',
  'indeed.ae',
  'indeed.co.uk',
  'indeed.com',
  'indeed.fr',
  'indiacom.com',
  'indotrading.com',
  'inep.gov.br',
  'infinitelooper.com',
  'inopressa.ru',
  'inria.fr',
  'instamp3.co',
  'instantcheckmate.com',
  'instantdomainsearch.com',
  'intercambiosvirtuales.org',
  'internet-start.net',
  'intoautos.com',
  'iplayer.fm',
  'isohunt.to',
  'istockphoto.com',
  'it-ebooks.directory',
  'ixigo.com',
  'ixquick-proxy.com',
  'izito.com',
  'izito.us',
  'jal.co.jp',
  'jalan.net',
  'jeevansathi.com',
  'jetradar.com',
  'jiumodiary.com',
  'jobillico.com',
  'jobrapido.com',
  'jobs.ac.uk',
  'jobs.ie',
  'jobs2careers.com',
  'jobsora.com',
  'jobtomealert.com',
  'joob24.com',
  'jora.com',
  'jrank.org',
  'justpicsplease.com',
  'justwatch.com',
  'k12.nd.us',
  'k331dy4xl4.com',
  'katcr.to',
  'katproxy.al',
  'kayac.com',
  'kayak.co.uk',
  'kayak.com',
  'keyword-suggestions.com',
  'kickass.cd',
  'kickasstop.net',
  'kickasstorrents.eu',
  'kinopoisk.ru',
  'kiwi.com',
  'kopp-verlag.de',
  'lawnewz.com',
  'lcbo.com',
  'leakouts.com',
  'learn4good.com',
  'linguee.com',
  'linguee.de',
  'linguee.es',
  'linguee.fr',
  'linguee.ru',
  'link-assistant.com',
  'livehomemade.com',
  'lmgtfy.com',
  'local.ch',
  'localmoxie.com',
  'looksmart.com',
  'lottery.ie',
  'loudtronix.co',
  'louvre.fr',
  'magiccards.info',
  'magnumphotos.com',
  'makeagif.com',
  'manageflitter.com',
  'mangvieclam.com',
  'mappy.com',
  'maricopa.edu',
  'marinetraffic.com',
  'masaladesi.com',
  'masterseek.com',
  'mastersportal.eu',
  'masutabe.info',
  'mathopenref.com',
  'mediaget.com',
  'meetic.es',
  'mefeedia.com',
  'megasearch.co',
  'megaserial.net',
  'megashare.su',
  'meinestadt.de',
  'merchantwords.com',
  'meta.ua',
  'mims.com',
  'mineplex.com',
  'mininova.org',
  'mitula.co.id',
  'mitula.pt',
  'mizanonline.ir',
  'mob.org',
  'monster.ca',
  'monster.co.uk',
  'monster.com',
  'mos.ru',
  'moviefone.com',
  'mp3eee.com',
  'mp3juices.cc',
  'mrstiff.com',
  'mulpix.com',
  'musicmp3.ru',
  'my-hammer.de',
  'mylife.com',
  'myprivatesearch.com',
  'mysearchguardian.com',
  'mysites123.com',
  'mystartsearch.com',
  'mytorrents.org',
  'mytransitguide.com',
  'myvidster.com',
  'myway.com',
  'namethatpornstar.com',
  'natok24.com',
  'nestoria.in',
  'neswangy.net',
  'neuvoo.com',
  'nn.ru',
  'nuwber.com',
  'nxgx.com',
  'nycboe.net',
  'nyse.com',
  'nzbindex.com',
  'nzbindex.nl',
  'oilandgaspeople.com',
  'orabote.xyz',
  'oursurfing.com',
  'pages.tmall.com',
  'pagesperso-orange.fr',
  'pdfdrive.net',
  'pets4homes.co.uk',
  'picclick.ca',
  'picclick.co.uk',
  'pipl.com',
  'pishi-stihi.ru',
  'pkp.pl',
  'pnet.co.za',
  'poezdato.net',
  'polymtl.ca',
  'porndex.com',
  'pornexpanse.com',
  'pornhu.org',
  'pornleaktube.com',
  'pornpapase.com',
  'preply.com',
  'priceza.co.id',
  'pron.tv',
  'property24.com',
  'pubpdf.com',
  'purity18.com',
  'qmee.com',
  'quia.com',
  'qwant.com',
  'rabota.ru',
  'rabota.ua',
  'radiorage.com',
  'radioreference.com',
  'rambler.ru',
  'rasanetv.ir',
  'rdsa2014.com',
  'realtor.com',
  'rent.com',
  'rightmove.co.uk',
  'rome2rio.com',
  'roshd.ir',
  'rosrabota.ru',
  'rozklad-pkp.pl',
  'rsvp.com.au',
  'rule34.xxx',
  'sabwap.com',
  'scholarships.com',
  'scorser.com',
  'scribdassets.com',
  'search-privacy.info',
  'search.com',
  'searchdesk.com',
  'searchengineland.com',
  'searchincognito.com',
  'searchlock.com',
  'searchpan.in',
  'searchswapper.com',
  'searchtempest.com',
  'seek.co.nz',
  'seek.com.au',
  'seositecheckup.com',
  'serato.com',
  'seroundtable.com',
  'serplab.co.uk',
  'shine.com',
  'shutterstock.com',
  'siteadvisor.com',
  'sitelinks.info',
  'skiplagged.com',
  'skyscanner.com',
  'slack.com',
  'sletat.ru',
  'slickdeals.net',
  'small-games.info',
  'snapmyscreen.com',
  'so.com',
  'soso.com',
  'spigotmc.org',
  'spokeo.com',
  'sporx.com',
  'squirt.org',
  'starmusiq.cc',
  'start.me',
  'studopedia.org',
  'suapesquisa.com',
  'subtitleseeker.com',
  'suddenlink.net',
  'suggest-keywords.com',
  'surveyvoicesresearch.com',
  'swf.ir',
  'swoodoo.com',
  'symbolab.com',
  'tabletwise.com',
  'takelessons.com',
  'tanqeeb.com',
  'tech-connect.biz',
  'thedrum.com',
  'themuse.com',
  'theprofitsmaker.net',
  'therpf.com',
  'thomasnet.com',
  'tineye.com',
  'tokyotosho.info',
  'torlock.com',
  'torrent-finder.info',
  'torrentdownloads.me',
  'torrentfunk.com',
  'torrentking.eu',
  'torrentproject.se',
  'torrenty.to',
  'torrentz.com',
  'torrentz.rocks',
  'torrentz2.eu',
  'totaljobs.com',
  'trademarkia.com',
  'trafficfactory.biz',
  'translate.ru',
  'transtutors.com',
  'travelodge.co.uk',
  'travelstart.co.za',
  'trellian.com',
  'tripadvisor.be',
  'tripadvisor.ca',
  'tripadvisor.co.uk',
  'tripadvisor.co.za',
  'tripadvisor.com',
  'tripadvisor.com.ar',
  'tripadvisor.com.hk',
  'tripadvisor.com.tr',
  'tripadvisor.de',
  'tripadvisor.es',
  'tripadvisor.in',
  'tripadvisor.it',
  'tripadvisor.ru',
  'tripping.com',
  'trivago.co.uk',
  'trivago.com.mx',
  'trovit.co.in',
  'trovit.co.za',
  'trovit.com.mx',
  'tubesex.me',
  'tubidydb.cc',
  'turner.com',
  'twenga.com',
  'twenga.de',
  'twicsy.com',
  'ubc.ca',
  'ucas.com',
  'ufv.br',
  'unigo.com',
  'univ-brest.fr',
  'univ-lyon1.fr',
  'usa.gov',
  'utorrentmui.com',
  'vconnect.com',
  'videosz.com',
  'vkmusic.ru',
  'vvng.com',
  'wallpapercave.com',
  'webapteka.ru',
  'webcams.travel',
  'weblancer.net',
  'weblio.jp',
  'webssearches.com',
  'weeklystandard.com',
  'wellcame.net',
  'who.is',
  'whois.net',
  'wikibit.me',
  'wikiroutes.info',
  'windstream.net',
  'wipo.int',
  'withgoogle.com',
  'wmflabs.org',
  'wolowtube.cc',
  'work.ua',
  'wotreplays.ru',
  'www.gov.za',
  'xmarks.com',
  'xml-sitemaps.com',
  'yify-torrent.org',
  'yifymovie.re',
  'youdo.com',
  'yourcinema.tv',
  'youth.cn',
  'yvision.kz',
  'zapmeta.de',
  'zarplata.ru',
  'zezoomglobal.com',
  'zillow.com',
  'ziprecruiter.com',
  'znaj.ua',
  'zocdoc.com',
  'zoopla.co.uk',
  'zybang.com',
  'zzap.ru'
]

const regexpEscape = function (s) { return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&') }

module.exports = {
  retrieve: function (cb) {
    cb(null, searchEnginesSLD.concat(searchEngines))
  },

  build: function (cb) {
    const transformedList = searchEngines.map((item) => { return `'${item}'` }).join(', ')
    var condition = `(new Set([ ${transformedList} ])).has(SLD.split('.')[0])`
    searchEnginesSLD.forEach(function (SLD) {
      condition += ' || /' + regexpEscape(SLD) + '$/.test(SLD)'
    })

    const rule = {
      condition: condition,
      consequent: null,
      description: 'exclude search engines'
    }
    cb(null, rule)
  }
}
